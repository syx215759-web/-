<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<title>ä¸­é«˜å¹´ç´šé–±è®€ / è½åŠ›ææ–™</title>

<style>
body {
  font-family: "Noto Sans TC", Arial, sans-serif;
  margin: 0;
  padding: 16px;
  background: #f5f7fb;
}

/* ================= Modal ================= */

.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.modal-content {
  background: #fff;
  width: 90%;
  max-width: 520px;
  border-radius: 14px;
  padding: 22px;
  position: relative;
  max-height: 80vh;
  overflow-y: auto;
}

.close-btn {
  position: absolute;
  top: 10px;
  right: 14px;
  font-size: 22px;
  cursor: pointer;
}

.modal h2 {
  font-size: 18px;
  margin-bottom: 4px;
}

.modal-meta {
  font-size: 13px;
  color: #666;
  margin-bottom: 16px;
}

.modal-section {
  margin-bottom: 18px;
}

.modal-section h4 {
  font-size: 14px;
  margin-bottom: 6px;
}

.modal-section ul {
  padding-left: 18px;
  margin: 0;
  font-size: 14px;
}

.read-btn {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  background: #3b6cff;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

/* ================= å¡ç‰‡ & åˆ†é  ================= */

#lesson-list {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  justify-content: center;
}

.lesson-card {
  width: 220px;
  background: #fff;
  border-radius: 12px;
  padding: 14px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.06);
  display: flex;
  flex-direction: column;
}

.lesson-icon {
  height: 80px;
  border-radius: 8px;
  background: #eef2f8;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  margin-bottom: 10px;
}

.lesson-title {
  font-size: 15px;
  font-weight: 700;
}

.lesson-meta {
  font-size: 13px;
  color: #666;
  margin-bottom: 10px;
}

.lesson-actions {
  margin-top: auto;
  display: flex;
  justify-content: space-between;
}

.pagination {
  margin-top: 32px;
  display: flex;
  justify-content: center;
  gap: 8px;
}

.page-btn {
  border: 1px solid #ccc;
  background: #fff;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}

.page-btn.active {
  background: #3b6cff;
  color: #fff;
  border-color: #3b6cff;
}
</style>
</head>

<body>

<h2 style="text-align:center;">ä¸­é«˜å¹´ç´šé–±è®€ / è½åŠ›ææ–™</h2>

<div id="lesson-list"></div>
<div id="pagination" class="pagination"></div>

<!-- ===== é è¦½ Modal ===== -->
<div id="previewModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closePreview()">Ã—</span>

    <h2 id="modalTitle"></h2>
    <div class="modal-meta" id="modalMeta"></div>

    <div class="modal-section">
      <h4>æš–èº«å•é¡Œ</h4>
      <ul id="modalWarmup"></ul>
    </div>

    <div class="modal-section">
      <h4>é–±è®€ç†è§£</h4>
      <ul id="modalReading"></ul>
    </div>

    <div class="modal-section">
      <h4>è¨è«–å•é¡Œ</h4>
      <ul id="modalDiscussion"></ul>
    </div>

    <div class="modal-section">
      <h4>ç”Ÿè©ï¼ˆå‰ 10ï¼‰</h4>
      <ul id="modalVocab"></ul>
    </div>

    <button class="read-btn">é–±è®€å…¨æ–‡</button>
  </div>
</div>

<script>
const lessons = [
  {
    title: "åŸå¸‚æ–‡åŒ–èˆ‡ç”Ÿæ´»",
    meta: "ç¤¾æœƒ / æ–‡åŒ– Â· 800â€“1000 å­—",
    icon: "ğŸ“˜",
    warmup: [
      "ä½ æœ€å–œæ­¡åŸå¸‚ç”Ÿæ´»çš„å“ªä¸€å€‹éƒ¨åˆ†ï¼Ÿ",
      "ä½ èªç‚ºåŸå¸‚æ–‡åŒ–å’Œé„‰æ‘æ–‡åŒ–æœ‰ä½•ä¸åŒï¼Ÿ"
    ],
    reading: [
      "ä½œè€…å¦‚ä½•æè¿°åŸå¸‚æ–‡åŒ–çš„å½¢æˆï¼Ÿ",
      "åŸå¸‚ç”Ÿæ´»å°äººå€‘åƒ¹å€¼è§€æœ‰ä»€éº¼å½±éŸ¿ï¼Ÿ"
    ],
    discussion: [
      "ä½ èªç‚ºæœªä¾†åŸå¸‚æœƒå¦‚ä½•æ”¹è®Šï¼Ÿ",
      "ç§‘æŠ€æ˜¯å¦è®“åŸå¸‚ç”Ÿæ´»æ›´ä¾¿åˆ©ï¼Ÿ"
    ],
    vocab: ["urban", "culture", "community", "identity", "tradition"]
  },
  {
    title: "åœ‹éš›æ–°èè½åŠ›ç·´ç¿’",
    meta: "åœ‹éš› / è»äº‹ Â· 1000â€“1200 å­—",
    icon: "ğŸ§",
    warmup: [
      "ä½ å¹³å¸¸å¾å“ªè£¡ç²å¾—åœ‹éš›æ–°èï¼Ÿ",
      "è½æ–°èæ™‚æœ€å›°é›£çš„æ˜¯ä»€éº¼ï¼Ÿ"
    ],
    reading: [
      "æ–°èä¸­æåˆ°çš„ä¸»è¦äº‹ä»¶æ˜¯ä»€éº¼ï¼Ÿ",
      "å„åœ‹å°æ­¤äº‹ä»¶çš„ç«‹å ´ç‚ºä½•ï¼Ÿ"
    ],
    discussion: [
      "åª’é«”æ˜¯å¦æœƒå½±éŸ¿æˆ‘å€‘å°äº‹ä»¶çš„çœ‹æ³•ï¼Ÿ",
      "ä½ èªç‚ºæ–°èæ‡‰è©²ä¿æŒå®Œå…¨ä¸­ç«‹å—ï¼Ÿ"
    ],
    vocab: ["global", "conflict", "policy", "summit", "broadcast"]
  }
];

const pageSize = 12;
let currentPage = 1;

function render() {
  const start = (currentPage - 1) * pageSize;
  const data = lessons.slice(start, start + pageSize);
  const list = document.getElementById("lesson-list");
  list.innerHTML = "";

  data.forEach((l, i) => {
    list.innerHTML += `
      <div class="lesson-card">
        <div class="lesson-icon">${l.icon}</div>
        <div class="lesson-title">${l.title}</div>
        <div class="lesson-meta">${l.meta}</div>
        <div class="lesson-actions">
          <button>â™¡</button>
          <button>ğŸ’¬</button>
          <button onclick="openPreview(${start + i})">é è¦½</button>
        </div>
      </div>
    `;
  });

  renderPagination();
}

function renderPagination() {
  const pages = Math.ceil(lessons.length / pageSize);
  const p = document.getElementById("pagination");
  p.innerHTML = "";

  for (let i = 1; i <= pages; i++) {
    p.innerHTML += `
      <button class="page-btn ${i === currentPage ? "active" : ""}"
        onclick="goPage(${i})">${i}</button>
    `;
  }
}

function goPage(page) {
  currentPage = page;
  render();
}

function openPreview(index) {
  const l = lessons[index];

  document.getElementById("modalTitle").innerText = l.title;
  document.getElementById("modalMeta").innerText = l.meta;

  fillList("modalWarmup", l.warmup);
  fillList("modalReading", l.reading);
  fillList("modalDiscussion", l.discussion);
  fillList("modalVocab", l.vocab.slice(0, 10));

  document.getElementById("previewModal").style.display = "flex";
}

function fillList(id, items) {
  const ul = document.getElementById(id);
  ul.innerHTML = "";
  items.forEach(i => ul.innerHTML += `<li>${i}</li>`);
}

function closePreview() {
  document.getElementById("previewModal").style.display = "none";
}

render();
</script>

</body>
</html>
